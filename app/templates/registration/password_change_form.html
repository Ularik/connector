{% extends "layout/base_clean.html" %}
{% load static %}

{% block title %}
  Смена пароля
{% endblock title %}

{% block header %}
{% endblock header %}

{% block content %}


<div class="container my-5 py-5">


    <section class="mb-10">
        <div class="row d-flex justify-content-center">
            <div class="col-lg-6">
                <h1 class="mb-5 text-center">Смена пароля</h1>

                {% csrf_token %}
                {% if not user.is_authenticated %}
                    <p>Нужнов выполнить вход. <a href="/accounts/login/">Вход</a></p>
                {% else %}
                    {% for error in form.non_field_errors %}
                        <span class="">{{ error }}</span>
                    {% endfor %}

                    <form action="" method="post" class="mt-3">
                        {% csrf_token %}

                        <div class="form-outline mt-4">
                            <input name="old_password" type="password" id="old_password" class="form-control"/>
                            <label class="form-label" for="old_password">{{ form.old_password.label }}</label>
                        </div>
                        {% for error in form.old_password.errors %}
                            <p class="text-danger">{{ error }}</p>
                        {% endfor %}

                        <div class="form-outline mt-4">
                            <input name="new_password1" type="password" id="new_password1" class="form-control"/>
                            <label class="form-label" for="new_password1">{{ form.new_password1.label }}</label>
                        </div>
                        <div>{{ form.new_password1.help_text }}</div>
                        {% for error in form.new_password1.errors %}
                            <p class="text-danger">{{ error }}</p>
                        {% endfor %}

                        <div class="form-outline mt-4">
                            <input name="new_password2" type="password" id="new_password2" class="form-control"/>
                            <label class="form-label" for="new_password2">{{ form.new_password2.label }}</label>
                        </div>
                        {% for error in form.new_password2.errors %}
                            <p class="text-danger">{{ error }}</p>
                        {% endfor %}




                        <!-- Submit button -->
                        <button type="submit" class="btn btn-primary btn-block mt-4">
                            Сменить
                        </button>
                    </form>

                {% endif %}
            </div>
        </div>
    </section>
    <!-- Section: Design Block -->
</div>

{% endblock content %}